<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Ranking Sumas y Restas</title>
  <link rel="stylesheet" href="pantallaRankingMemorama.css">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
    <div class="header">
        <div class="university">Universidad Veracruzana</div>
        <div class="center-name">Centro de Investigación de Recursos Energéticos y Sustentables</div>
        <div class="game-title">TOP 3 - DESAFIOS MATEMÁTICOS</div>
    </div>
    
    <div class="content-box">
        <h2 class="section-title">MEJORES PUNTUACIONES</h2>
        
        <div id="ranking-container" class="game-section">
            <!-- Puntuaciones cargadas -->
            <div class="player-row">
                <span class="player-rank gold">1°</span>
                <span class="player-name">-</span>
                <span class="player-score">0 intentos</span>
                <span class="player-time">-</span>
            </div>
            <div class="player-row">
                <span class="player-rank silver">2°</span>
                <span class="player-name">-</span>
                <span class="player-score">0 intentos</span>
                <span class="player-time">-</span>
            </div>
            <div class="player-row">
                <span class="player-rank bronze">3°</span>
                <span class="player-name">-</span>
                <span class="player-score">0 intentos</span>
                <span class="player-time">-</span>
            </div>
        </div>
    </div>
    
    <button class="action-btn" id="btnRegresar">Regresar</button>
    
    <div class="contenedor-iconos">
        <a href="https://www.uv.mx/" target="_blank" class="icono-uv" rel="noreferrer"></a>
        <div class="icono-sonido sonido-activado" id="iconoSonido"></div>
        <a href="../pantallaJuegos.html" class="icono-volver"></a>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Cargar datos del ranking
            const rankingData = JSON.parse(localStorage.getItem('rankingMemorama')) || [];
            const container = document.getElementById('ranking-container');
            const rows = container.querySelectorAll('.player-row');
            
            // Mostrar las puntuaciones disponibles
            rankingData.forEach((jugador, index) => {
                if (index < rows.length) {
                    rows[index].querySelector('.player-name').textContent = jugador.nombre;
                    rows[index].querySelector('.player-score').textContent = `${jugador.intentos} intentos`;
                    const tiempo = jugador.tiempo;
                    const minutos = Math.floor(tiempo / 60000);
                    const segundos = ((tiempo % 60000) / 1000).toFixed(3).padStart(6, '0');
                    rows[index].querySelector('.player-time').textContent = `${minutos}:${segundos}`;
                }
            });
                    
            // Control de sonido
            const iconoSonido = document.getElementById('iconoSonido');
            iconoSonido.addEventListener('click', function() {
                this.classList.toggle('sonido-activado');
                this.classList.toggle('sonido-desactivado');
            });
            
            // Botón regresar
            document.getElementById('btnRegresar').addEventListener('click', function() {
                window.location.href = '../../../pantallaJuegos.html';
            });
        });
    </script>
</body>
</html>